<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Box Board</title>

  <!-- Critical fallback so it never looks "white / broken" even if CSS fails -->
  <style>
    html,body{height:100%;margin:0;background:#0f1220;color:#e9ecff;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Apple SD Gothic Neo","Noto Sans KR",Arial,sans-serif}
    .noscript{padding:16px}
    /* while real css loads */
    body._preload *{visibility:hidden}
    body._preload ._boot{visibility:visible;display:flex;align-items:center;justify-content:center;height:100vh;opacity:.8}
  </style>
</head>
<body class="_preload">
  <div class="_boot">Loading…</div>

  <noscript><div class="noscript">JavaScript가 꺼져있으면 동작하지 않습니다.</div></noscript>

  <!-- Cache-bust loader: always fetch latest CSS/JS even on Safari/GitHub Pages -->
  <script>
    (function(){
      var v = Date.now().toString(36);
      function loadCSS(href){
        return new Promise(function(res){
          var l=document.createElement('link');
          l.rel='stylesheet';
          l.href=href + (href.indexOf('?')>-1?'&':'?') + 'v=' + v;
          l.onload=function(){res(true)};
          l.onerror=function(){res(false)};
          document.head.appendChild(l);
        });
      }
      function loadJS(src){
        return new Promise(function(res,rej){
          var s=document.createElement('script');
          s.src=src + (src.indexOf('?')>-1?'&':'?') + 'v=' + v;
          s.defer=true;
          s.onload=function(){res(true)};
          s.onerror=function(){rej(new Error('Failed to load '+src))};
          document.body.appendChild(s);
        });
      }

      // Prefer standard filenames (easy), fallback to hashed if user kept those around
      Promise.resolve()
        .then(function(){ return loadCSS('./styles.css'); })
        .then(function(ok){ if(!ok) return loadCSS('./styles.2900.css'); })
        .then(function(){
          // now load app
          return loadJS('./app.js').catch(function(){
            return loadJS('./app.2900.js');
          });
        })
        .finally(function(){
          // let real layout show
          document.body.classList.remove('_preload');
          var boot=document.querySelector('._boot'); if(boot) boot.remove();
        });
    })();
  </script>
</body>
</html>
