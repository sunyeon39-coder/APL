<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Box Board</title>
  <link rel="stylesheet" href="./styles.css?v=pc-20260113-1">
</head>
<body>
  <div class="app-shell">
    <!-- Top toolbar -->
    <header class="topbar">
      <div class="topbar-left">
        <div class="brand">Box Board</div>
        <button class="icon-btn" id="toggleSide" title="사이드바">
          <span class="icon">≡</span>
        </button>
        <div class="btn-group">
          <button class="pill" id="alignH">가로정렬</button>
          <button class="pill" id="alignV">세로정렬</button>
          <button class="pill" id="gapXBtn">가로간격</button>
          <button class="pill" id="gapYBtn">세로간격</button>
          <button class="pill danger" id="selectMode">선택</button>
        </div>
      </div>

      <div class="topbar-right">
        <button class="pill" id="zoomOut">-</button>
        <div class="zoom-readout"><span id="zoomPct">100%</span></div>
        <button class="pill" id="zoomIn">+</button>
        <button class="pill" id="resetAll">Reset</button>
        <div class="hint">Ctrl/⌘ + 휠 : 확대/축소</div>
      </div>
    </header>

    <div class="content">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <div class="segmented">
          <button class="seg active" data-tab="wait">대기</button>
          <button class="seg" data-tab="layout">배치</button>
          <button class="seg" data-tab="box">박스</button>
        </div>

        <!-- Wait tab -->
        <section class="panel active" data-panel="wait">
          <div class="panel-title">대기</div>
          <div class="row">
            <input id="waitName" class="input" placeholder="이름 입력" />
            <button class="btn primary" id="addWait">추가</button>
          </div>
          <input id="waitSearch" class="input" placeholder="검색 (이름)" />
          <div class="wait-list" id="waitList"></div>

          <div class="panel-footnote">
            ※ 대기 항목을 드래그해서 BOX에 드롭 (기존 배치자는 자동으로 대기로)
          </div>
        </section>

        <!-- Layout tab -->
        <section class="panel" data-panel="layout">
          <div class="panel-title">배치</div>
          <div class="row">
            <button class="btn" id="autoGrid">그리드 자동 배치</button>
            <button class="btn" id="clearSelection">선택 해제</button>
          </div>
          <div class="row">
            <label class="label">가로 간격</label>
            <input type="range" id="gapX" min="60" max="260" value="120" />
          </div>
          <div class="row">
            <label class="label">세로 간격</label>
            <input type="range" id="gapY" min="50" max="220" value="100" />
          </div>
          <div class="row">
            <label class="label">박스 크기</label>
            <input type="range" id="boxScale" min="80" max="160" value="110" />
          </div>
        </section>

        <!-- Box tab -->
        <section class="panel" data-panel="box">
          <div class="panel-title">박스</div>
          <div class="row">
            <button class="btn primary" id="addBox">+ 박스 추가</button>
            <button class="btn danger" id="resetBoxes">초기화</button>
          </div>
          <div class="row">
            <button class="btn" id="exportJson">내보내기(JSON)</button>
            <button class="btn" id="importJson">불러오기</button>
          </div>
          <textarea id="jsonArea" class="textarea" placeholder="내보낸 JSON을 여기에 붙여넣고 '불러오기' 누르세요"></textarea>
        </section>
      </aside>

      <!-- Board -->
      <main class="board-wrap">
        <div class="board" id="board" tabindex="0" aria-label="board"></div>

        <footer class="footer-hints">
          <span class="kbd">Shift</span> + 클릭: 다중 선택 ·
          <span class="kbd">Tab</span> : 사이드바 ·
          <span class="kbd">Del</span> : 선택 삭제 ·
          이름 더블클릭: 대기로
        </footer>
      </main>
    </div>
  </div>

  <script defer src="./app.js?v=pc-20260113-1"></script>
</body>
</html>
