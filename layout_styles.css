/* =================================================
   Box Board â€“ unified box/card UI
   CLICK SAFE / SCROLL SAFE FINAL (CLEAN)
   ================================================= */

:root{
  --bg:#0f1220;
  --panel:#171a2b;
  --text:#e9ecff;
  --muted:#a9b0d6;
  --good:#38d39f;
  --warn:#ffd166;
  --bad:#ff5c7c;
  --blue:#4aa3ff;
  --stroke: rgba(255,255,255,.12);
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius:18px;
}

*{ box-sizing:border-box }

/* =================================================
   GLOBAL SCROLL CONTROL (ğŸ”¥ í•µì‹¬)
   ================================================= */

html, body{
  margin:0;
  height:100%;
  background:var(--bg);
  color:var(--text);
  overflow:hidden;              /* ì „ì²´ ìŠ¤í¬ë¡¤ ì°¨ë‹¨ */
}

/* =================================================
   ROOT LAYOUT
   ================================================= */

.layout-wrap{
  height:100vh;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

/* =================================================
   TOP BAR
   ================================================= */

.layout-top{
  flex:0 0 auto;
  display:flex;
  align-items:center;
  padding:8px 12px;
  position:relative;
  z-index:1000;                 /* í•­ìƒ ìµœìƒë‹¨ */
  pointer-events:auto;
}

.layout-top .btn,
#layoutBackBtn{
  pointer-events:auto;
}

#layoutBackBtn{
  margin-left:auto;
  position:relative;
  z-index:1001;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.25);
  color:#e9ecff;
  padding:6px 14px;
  border-radius:999px;
  font-weight:800;
  cursor:pointer;
}

#layoutBackBtn:hover{
  background:rgba(255,255,255,.18);
}

/* =================================================
   TOP AREA (SEAT / CARD â€“ SCROLL ONLY HERE)
   ================================================= */

.top-area{
  flex:1 1 auto;
  min-height:0;                 /* â­ Safari í•„ìˆ˜ */
  overflow-y:auto;
  overflow-x:hidden;
  padding:12px;
  -webkit-overflow-scrolling:touch;
  pointer-events:auto;
}

/* grid */
.layout-grid,
.card-list{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:8px;
}

/* =================================================
   CARD (Seat + Waiting common)
   ================================================= */

.card{
  position:relative;
  background:linear-gradient(135deg,#182235,#111a2b);
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  padding:10px;
  box-shadow:var(--shadow);
  cursor:pointer;
  transition:box-shadow .15s ease;
  pointer-events:auto;
}

.card:hover{
  box-shadow:0 14px 36px rgba(0,0,0,.45);
}

/* =================================================
   SEAT DELETE BUTTON
   ================================================= */

.seat-delete{
  position:absolute;
  top:6px;
  right:6px;
  z-index:20;
  width:22px;
  height:22px;
  border-radius:50%;
  background:rgba(255,255,255,.15);
  border:1px solid rgba(255,255,255,.25);
  color:rgba(255,255,255,.7);
  font-weight:900;
  font-size:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  pointer-events:auto;
}

.seat-delete:hover{
  background:rgba(255,255,255,.3);
  color:#fff;
}

/* =================================================
   PILL
   ================================================= */

.pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:800;
  border:1px solid;
  white-space:nowrap;
}

.pill.running{
  background:rgba(56,211,159,.15);
  border-color:rgba(56,211,159,.6);
  color:#38d39f;
}

.pill.waiting{
  background:rgba(74,163,255,.15);
  border-color:rgba(74,163,255,.6);
  color:#4aa3ff;
}

.pill .time{
  font-variant-numeric:tabular-nums;
  font-weight:900;
}

/* =================================================
   BOTTOM AREA (WAITING â€“ FIXED)
   ================================================= */

.bottom-area{
  flex:0 0 160px;
  height:160px;
  background:rgba(5,8,16,.95);
  border-top:1px solid rgba(255,255,255,.08);
  display:flex;
  flex-direction:column;
  padding:10px 12px;
  pointer-events:auto;
  position: relative;
  z-index: 9999;
}

/* header */
.waiting-header{
  display:flex;
  gap:8px;
  margin-bottom:6px;
  pointer-events:auto;
}

/* scroll inside bottom */
.wait-scroll{
  flex:1;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
}

/* waiting cards */
.waiting-grid{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

.waiting-card{
  min-width:140px;
  height:36px;
  padding:2px 10px;
  border-radius:25px;
  display:flex;
  align-items:center;
  position:relative;
  background:linear-gradient(135deg,#182235,#111a2b);
  border:1px solid var(--stroke);
  pointer-events:auto;
}

/* delete */
.wait-delete{
  position:absolute;
  top:4px;
  right:8px;
  z-index:30;
  width:24px;
  height:24px;
  border-radius:50%;
  background:#2a2f3f;
  border:1px solid rgba(255,255,255,.25);
  box-shadow:
    0 2px 6px rgba(0,0,0,.45),
    inset 0 0 0 1px rgba(255,255,255,.05);
  color:rgba(255,255,255,.85);
  font-size:12px;
  font-weight:900;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  pointer-events:auto;
}

.wait-delete:hover{
  background:#3a4055;
  color:#fff;
  transform:scale(1.05);
}

/* =================================================
   STATES
   ================================================= */

.card.selected{
  outline:2px solid rgba(120,180,255,.9);
  outline-offset:2px;
}

.card.drag-over{
  outline:2px dashed rgba(120,180,255,.9);
  background:rgba(120,180,255,.08);
}

/* =================================================
   BOOT / VISUAL LAYERS OFF
   ================================================= */

#layoutBootLoading,
.canvas,
.canvasWrap,
.canvasGrid,
.background{
  display:none !important;
  pointer-events:none !important;
}
/* =================================================
   ğŸ”¥ iPad/Safari í´ë¦­ ì”¹í˜ ìµœì¢… Fix
   bottom-areaë¥¼ ìµœìƒë‹¨ í´ë¦­ ë ˆì´ì–´ë¡œ ê°•ì œ
   ================================================= */

/* ìœ„ìª½ ìŠ¤í¬ë¡¤ ì˜ì—­ì´ ì•„ë˜ë¥¼ ë®ì§€ ëª»í•˜ê²Œ z-index ë¶„ë¦¬ */
.top-area{
  position: relative;
  z-index: 1;
}

/* í•˜ë‹¨ ì…ë ¥/ë²„íŠ¼/ëŒ€ê¸°ëª©ë¡ì€ í•­ìƒ ìµœìƒë‹¨ í´ë¦­ ê°€ëŠ¥ */
.bottom-area{
  position: relative;
  z-index: 9999;
  pointer-events: auto;
}

/* í•˜ë‹¨ ë‚´ë¶€ ìš”ì†Œ í´ë¦­ ë³´ì¥ */
.bottom-area *{
  pointer-events: auto;
}

/* í˜¹ì‹œ top-area ë‚´ë¶€ gridê°€ í™”ë©´ ì „ì²´ë¥¼ ë®ëŠ” ê²½ìš° ë°©ì§€ */
.layout-grid{
  position: relative;
  z-index: 1;
}

/* iOSì—ì„œ ê°€ë” ìƒê¸°ëŠ” â€œíˆ¬ëª…í•œ ë ˆì´ì–´â€ ë°©ì–´ */
.layout-wrap{
  isolation: isolate;
}
